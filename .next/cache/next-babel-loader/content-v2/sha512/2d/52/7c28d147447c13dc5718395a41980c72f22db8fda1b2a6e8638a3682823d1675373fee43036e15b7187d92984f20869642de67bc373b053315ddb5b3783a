{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport styles from './post.module.scss';\nimport Header from '../../components/Header';\nimport { FiCalendar, FiClock, FiUser } from 'react-icons/fi';\nimport { format, addSeconds } from 'date-fns';\nimport ptBR from 'date-fns/locale/pt-BR';\nimport { RichText } from 'prismic-dom';\nimport { useEffect, useState } from 'react';\n\nfunction formattedTime(seconds) {\n  var helperDate = addSeconds(new Date(0), seconds);\n  return format(helperDate, 'mm:ss');\n}\n\nexport var __N_SSG = true;\nexport default function Post(_ref) {\n  var post = _ref.post;\n  console.log({\n    post: post\n  });\n\n  var _useState = useState(0),\n      timeToRead = _useState[0],\n      setTimeToRead = _useState[1];\n\n  useEffect(function () {\n    if (post) {\n      var contentText = [];\n      post.data.content.map(function (content) {\n        contentText.push(RichText.asText(content.body));\n      });\n      var totalWords = contentText.join(' ').split(' ').length;\n      setTimeToRead(totalWords / 200 * 60);\n    }\n  }, [post]);\n\n  if (!post) {\n    return /*#__PURE__*/_jsx(\"h1\", {\n      children: \"Carregando...\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Header, {}), /*#__PURE__*/_jsx(\"img\", {\n      className: styles.banner,\n      src: post.data.banner.url,\n      alt: \"banner\"\n    }), /*#__PURE__*/_jsxs(\"main\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: post.data.title\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.info,\n        children: [/*#__PURE__*/_jsxs(\"time\", {\n          children: [/*#__PURE__*/_jsx(FiCalendar, {}), format(new Date(post.first_publication_date), 'dd LLL yyyy', {\n            locale: ptBR\n          })]\n        }), /*#__PURE__*/_jsxs(\"span\", {\n          children: [/*#__PURE__*/_jsx(FiUser, {}), post.data.author]\n        }), /*#__PURE__*/_jsxs(\"span\", {\n          children: [/*#__PURE__*/_jsx(FiClock, {}), formattedTime(timeToRead)]\n        })]\n      }), post.data.content.map(function (content, index) {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.postHeading,\n          children: [/*#__PURE__*/_jsx(\"h1\", {\n            children: content.heading\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: styles.postContent,\n            dangerouslySetInnerHTML: {\n              __html: RichText.asHtml(content.body)\n            }\n          })]\n        }, index);\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}